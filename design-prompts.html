<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Design Prompt Card Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        #history-container {
            width: 100%;
            max-width: 900px;
            height: 65vh;
            max-height: 700px;
            overflow-y: auto;
            padding: 1rem;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            background-color: #f9fafb;
        }
        .card-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            width: 100%;
            margin: 0 auto;
        }
        .card-container:not(:first-child) {
            margin-top: 1.5rem;
        }
        .card {
            background-color: #ffffff;
            border-radius: 12px;
            padding: 2rem 1.5rem;
            text-align: center;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border: 1px solid #e5e7eb;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 160px;
        }
        .card-category {
            font-size: 0.875rem;
            font-weight: 500;
            color: #4f46e5;
            margin-bottom: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .card-word {
            font-size: 1.5rem;
            font-weight: 700;
            color: #111827;
            line-height: 1.3;
        }
        .btn {
            background-color: #4f46e5;
            color: white;
            font-weight: 500;
            padding: 0.75rem 2rem;
            border-radius: 8px;
            transition: background-color 0.3s;
            cursor: pointer;
            border: none;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .btn:hover {
            background-color: #4338ca;
        }
        #print-btn {
            background-color: #10b981;
        }
        #print-btn:hover {
            background-color: #059669;
        }
        .fade-in {
            animation: fadeIn 0.6s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Print-specific styles */
        @media print {
            @page {
                size: A4 portrait;
                margin: 0.5in;
            }
            body {
                padding: 0;
                background-color: white;
            }
            .no-print {
                display: none !important;
            }
            #history-container {
                width: 100%;
                height: auto;
                max-height: none;
                overflow: visible;
                border: none;
                padding: 0;
                background-color: transparent;
            }
            .card-container {
                page-break-inside: avoid; /* Prevents rows from splitting across pages */
                margin-top: 1.5rem;
                padding-top: 1.5rem;
                border-top: 1px dashed #e0e0e0; /* Very light grey dashed line */
                gap: 1rem;
            }
            #history-container > .card-container:first-child {
                margin-top: 0;
                padding-top: 0;
                border-top: none;
            }
            .card {
                box-shadow: none;
                border: 1px solid #ccc;
                -webkit-print-color-adjust: exact !important; /* For Chrome, Safari */
                print-color-adjust: exact !important; /* Standard property */
                padding: 1rem;
                min-height: 0;
                aspect-ratio: 1.775; /* Maintain the on-screen aspect ratio */
            }
            .card-category {
                font-size: 0.7rem;
                margin-bottom: 0.5rem;
            }
            .card-word {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 flex flex-col items-center justify-center min-h-screen p-6">

    <div class="text-center mb-8 no-print">
        <h1 class="text-4xl font-bold text-gray-900">Design Prompt Generator</h1>
        <p class="mt-2 text-lg text-gray-600">Generate random prompts to inspire future design possibilities.</p>
        <div class="mt-6">
            <button id="generate-btn" class="btn">Generate New Prompt</button>
            <button id="print-btn" class="btn ml-4">Print to PDF</button>
        </div>
    </div>

    <div id="history-container">
        <!-- Rows of cards will be prepended here by JavaScript -->
    </div>

    <script>
        const words = {
            user: ['Friend', 'Family', 'Helper', 'Explorer', 'Learner', 'Performer', 'Protector', 'Player', 'Collector', 'Beginner', 'Artist', 'Builder', 'Teacher', 'Leader', 'Storyteller', 'Nurturer', 'Musician', 'Dancer', 'Inventor', 'Detective', 'Dreamer', 'Guardian', 'Wanderer', 'Healer', 'Innovator'],
            emotion: ['Happiness', 'Excitement', 'Calmness', 'Surprise', 'Friendship', 'Safety', 'Laughter', 'Comfort', 'Joy', 'Hope', 'Wonder', 'Curiosity', 'Trust', 'Courage', 'Peace', 'Pride', 'Relief', 'Awe', 'Belonging', 'Connection', 'Focus', 'Energy', 'Growth', 'Freedom', 'Empathy', 'Kindness', 'Confidence', 'Success', 'Understanding', 'Inspiration'],
            adjective: ['Bright', 'Soft', 'Robust', 'Responsive', 'Warm', 'Smooth', 'Intuitive', 'Vivid', 'Playful', 'Magical', 'Quiet', 'Loud', 'Expansive', 'Compact', 'Bouncy', 'Tactile', 'Light', 'Solid', 'Shiny', 'Subtle', 'Clear', 'Textured', 'Novel', 'Retro', 'Secret', 'Clever', 'Funny', 'Gentle', 'Flowing', 'Structured'],
            verb: ['Help', 'Create', 'Play', 'Share', 'Grow', 'Find', 'Listen', 'Comfort', 'Build', 'Show', 'Design', 'Make', 'Connect', 'Discover', 'Explore', 'Inspire', 'Teach', 'Learn', 'Guide', 'Protect', 'Heal', 'Nurture', 'Imagine', 'Invent', 'Organize', 'Simplify', 'Animate', 'Express', 'Communicate', 'Transform']
        };

        const historyContainer = document.getElementById('history-container');
        const generateBtn = document.getElementById('generate-btn');
        const printBtn = document.getElementById('print-btn');

        let shuffledWords = {};
        const currentIndices = {
            user: 0,
            emotion: 0,
            adjective: 0,
            verb: 0
        };
        
        let currentHue = 0;

        function shuffle(array) {
            let currentIndex = array.length, randomIndex;
            while (currentIndex > 0) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex--;
                [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
            }
            return array;
        }

        function getNextWord(category) {
            const index = currentIndices[category];
            const word = shuffledWords[category][index];
            currentIndices[category] = (index + 1) % shuffledWords[category].length;
            return word;
        }

        function generatePrompt() {
            currentHue = (currentHue + 20) % 360;

            const selectedWords = {
                user: getNextWord('user'),
                emotion: getNextWord('emotion'),
                adjective: getNextWord('adjective'),
                verb: getNextWord('verb')
            };

            if (selectedWords.verb === selectedWords.emotion) {
                selectedWords.emotion = getNextWord('emotion');
            }

            const actionPhrase = `${selectedWords.verb} with ${selectedWords.emotion}`;
            
            const newRow = document.createElement('div');
            newRow.className = 'card-container fade-in';
            
            const cardsData = [
                { category: 'User', word: selectedWords.user },
                { category: 'Adjective', word: selectedWords.adjective },
                { category: 'Action', word: actionPhrase }
            ];

            cardsData.forEach((data, index) => {
                const card = document.createElement('div');
                card.className = 'card';
                
                const lightness = 90 - (index * 5);
                card.style.backgroundColor = `hsl(${currentHue}, 70%, ${lightness}%)`;
                
                card.innerHTML = `
                    <div class="card-category">${data.category}</div>
                    <div class="card-word">${data.word}</div>
                `;
                newRow.appendChild(card);
            });
            
            historyContainer.prepend(newRow);
        }
        
        generateBtn.addEventListener('click', generatePrompt);
        printBtn.addEventListener('click', () => {
            window.print();
        });

        window.onload = () => {
            currentHue = Math.floor(Math.random() * 360);

            for (const category in words) {
                shuffledWords[category] = shuffle([...words[category]]);
            }
            generatePrompt(); // Generate one row on load
        };
    </script>

</body>
</html>

